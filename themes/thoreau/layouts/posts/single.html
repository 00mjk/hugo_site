{{ define "main" }}
{{ $readTime := mul (div (countwords .Content) 220.0) 60 }}
{{ $minutes := math.Floor (div $readTime 60) }}
{{ $seconds := mod $readTime 60 }}
{{ $seconds := printf "%02d" $seconds }}

  <div class="container h-auto w-full min-w-full relative overflow-hidden pt-12 pb-6 px-4 md:px-16 2xl:px-20">
    <h1 class="text-center text-4xl md:text-5xl lg:text-6xl 2xl:text-7xl tracking-tight md:mt-6 md:mb-12 2xl:mt-16 mb-6 px-4 md:px-0">{{ .Params.Title }}</h1>
    {{- if .Params.Subtitle }}<h2 class="text-center text-2xl md:text-3xl lg:text-4xl 2xl:text-5xl leading-tight tracking-tight px-6 md:px-0">{{ .Params.Subtitle }}</h2>{{- end }}
    {{- if .Params.Description }}<p class="text-center md:block md:text-2xl 2xl:text-3xl tracking-tight mt-6 md:mt-12 mb-0 md:px-12 xl:px-64 md:mb-6 2xl:mb-12">{{ .Params.Description }}</p>{{- end }}
    <p class="text-center text-base lg:text-xl 2xl:text-xl px-4 md:px-0 mt-8 md:mt-0">
      <strong>{{ .PublishDate.Format "January 2, 2006" }}</strong>{{- if ne .PublishDate .Lastmod }}<br /><span class="text-sm lg:text-base">Last modified {{ .Lastmod.Format "January 2, 2006" }}{{- end }}</span>
    </p>
  </div>

  <div class="sm:w-5/6 md:w-4/5 xl:w-1/2 mr-auto ml-auto px-6 lg:px-16">
    <p class="text-xs 2xl:text-base text-center"><em>Estimated reading time: {{ $minutes }}:{{ $seconds }}</em></p>
    <div class="mr-auto ml-auto border-b-2 border-blue-700 dark:border-white w-1/2 md:w-1/3 2xl:w-1/4"></div>
    <article class="article">
      {{ .Content }}
    </article>
  </div>

  {{ partial "fastcomments.html" . }}

  {{ if or .PrevPage .NextPage }}
    <div class="w-full px-8 md:px-0 bg-blue-700 align-middle mt-10 mb-10">
      <h3 class="text-center text-3xl tracking-normal mb-2 pt-2"><a href="/posts" class="border-transparent text-blue-100 hover:text-white">Other posts</a></h3>
			<p class="text-center my-2 text-xl text-white leading-tight tracking-tight">
				{{ with .NextInSection }}
					<strong>Next</strong>:
					<a class="border-transparent text-blue-100 hover:text-white hover:border-blue-100" href="{{.RelPermalink}}"> {{.Title}}</a>
					{{ end }}
			</p>
			<p class="text-center pb-4 my-2 text-xl text-white leading-tight tracking-tight">
				{{ with .PrevInSection }}
					<strong>Previous</strong>:
					<a class="border-transparent text-blue-100 hover:text-white hover:border-blue-100" href="{{.RelPermalink}}"> {{.Title}}</a>
				{{ end }}
			</p>
    </div>
  {{ end }}
{{ end }}