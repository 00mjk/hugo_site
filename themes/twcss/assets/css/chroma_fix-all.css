pre,
code {
  @apply font-mono;
}

code[class*="language-"],
pre[class*="language-"] {
  color: #ddd; /* was ccc */
  @apply bg-transparent text-left whitespace-pre leading-[1.5];
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  tab-size: 2;
  hyphens: none;
}

 /* Code blocks */
 pre[class*="language-"],
 pre.chroma {
   @apply p-[1em] my-[0.5em] mx-0 overflow-auto;
}

:not(pre) > code[class*="language-"],
pre[class*="language-"] {
  background: #2d2d2d;
}

/* Inline code */
:not(pre) > code[class*="language-"] {
  @apply p-[0.1em] rounded-[0.3em] whitespace-normal;
}

.highlight {
  font-size: 0.8em; /* for Roboto Mono as compared to Public Sans */
  & .chroma {
    font-size: 1.35em; /* undoing the above when necessary */
  }
}

article code {
  font-size: 0.9em;
  @apply bg-gray-700 dark:bg-[#454545];
}

article blockquote code {
  color: #494d50;
  @media (prefers-color-scheme: dark) {
    color: #dddddd;
  }
}

/* === for copy-code-to-clipboard */
/* h/t https://simplernerd.com/hugo-add-copy-to-clipboard-button/ */

.clipboard-button {
	position: absolute;
	right: 0;
	padding: 2px 7px 5px 7px;
	margin: 5px;
	color: #767676;
	border-color: #767676;
	background-color: #ededed;
	border: 1px solid;
	border-radius: 6px;
	font-size: 0.8em;
	z-index: 1;
	opacity: 0;
	transition: 0.1s;
}
.clipboard-button > svg {
	fill: #767676;
}
.clipboard-button:hover {
	cursor: pointer;
	border-color: #696969;
	background-color: #e0e0e0;
}
.clipboard-button:hover > svg {
	fill: #696969;
}
.clipboard-button:focus {
	outline: 0;
}
.highlight:hover > .clipboard-button {
	opacity: 1;
	transition: 0.2s;
}
